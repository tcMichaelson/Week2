@model ShoppingListVM.Models.ShoppingCartIndexViewModel
@using ShoppingListVM.Helpers

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_CustomLayout.cshtml";
}

@helper FormatCurrency(decimal price) { 
if(price < 0) {
        <b style="color:red">@price.ToString("c")</b>
} else {
        @price.ToString("c")
}
    }

@Model.CustomerInfo.FirstName
@Model.CustomerInfo.LastName

<div>
    
@{    
    decimal totalPrice = 0.00m;
    foreach (var prod in Model.ProductList) {
        <ul>
            <li>@prod.Name @Html.DisplayFor(m => prod.Price)</li>
        </ul>
        totalPrice += prod.Price;
    }
    <p>The total price is @Format.Currency(totalPrice)</p>
    @Html.FormatCurrency(1.234565m)
}
</div>